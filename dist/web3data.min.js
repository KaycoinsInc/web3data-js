!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).web3data=t()}(this,(function(){"use strict";var e=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},t=Object.prototype.toString;function n(e){return"[object Array]"===t.call(e)}function r(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function o(e){return"[object Function]"===t.call(e)}function i(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),n(e))for(var r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var a={isArray:n,isArrayBuffer:function(e){return"[object ArrayBuffer]"===t.call(e)},isBuffer:function(e){return null!==e&&!r(e)&&null!==e.constructor&&!r(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:r,isDate:function(e){return"[object Date]"===t.call(e)},isFile:function(e){return"[object File]"===t.call(e)},isBlob:function(e){return"[object Blob]"===t.call(e)},isFunction:o,isStream:function(e){return s(e)&&o(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:i,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,s=arguments.length;r<s;r++)i(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]="object"==typeof n?e({},n):n}for(var r=0,s=arguments.length;r<s;r++)i(arguments[r],n);return t},extend:function(t,n,r){return i(n,(function(n,s){t[s]=r&&"function"==typeof n?e(n,r):n})),t},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}};function c(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var d=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(a.isURLSearchParams(t))r=t.toString();else{var s=[];a.forEach(t,(function(e,t){null!=e&&(a.isArray(e)?t+="[]":e=[e],a.forEach(e,(function(e){a.isDate(e)?e=e.toISOString():a.isObject(e)&&(e=JSON.stringify(e)),s.push(c(t)+"="+c(e))})))})),r=s.join("&")}if(r){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e};function u(){this.handlers=[]}u.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},u.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},u.prototype.forEach=function(e){a.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var l=u,h=function(e,t,n){return a.forEach(n,(function(n){e=n(e,t)})),e},p=function(e){return!(!e||!e.__CANCEL__)},f="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function b(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}var m=b,E=g;function _(e){if(m===setTimeout)return setTimeout(e,0);if((m===b||!m)&&setTimeout)return m=setTimeout,setTimeout(e,0);try{return m(e,0)}catch(t){try{return m.call(null,e,0)}catch(t){return m.call(this,e,0)}}}"function"==typeof f.setTimeout&&(m=setTimeout),"function"==typeof f.clearTimeout&&(E=clearTimeout);var O,w=[],T=!1,N=-1;function S(){T&&O&&(T=!1,O.length?w=O.concat(w):N=-1,w.length&&R())}function R(){if(!T){var e=_(S);T=!0;for(var t=w.length;t;){for(O=w,w=[];++N<t;)O&&O[N].run();N=-1,t=w.length}O=null,T=!1,function(e){if(E===clearTimeout)return clearTimeout(e);if((E===g||!E)&&clearTimeout)return E=clearTimeout,clearTimeout(e);try{E(e)}catch(t){try{return E.call(null,e)}catch(t){return E.call(this,e)}}}(e)}}function A(e,t){this.fun=e,this.array=t}A.prototype.run=function(){this.fun.apply(null,this.array)};function y(){}var v=y,I=y,k=y,C=y,D=y,H=y,B=y;var M=f.performance||{},P=M.now||M.mozNow||M.msNow||M.oNow||M.webkitNow||function(){return(new Date).getTime()};var L=new Date;var U={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];w.push(new A(e,t)),1!==w.length||T||_(R)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:v,addListener:I,once:k,off:C,removeListener:D,removeAllListeners:H,emit:B,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*P.call(M),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-L)/1e3}},x=function(e,t){a.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},K=function(e,t,n,r,s){return function(e,t,n,r,s){return e.config=t,n&&(e.code=n),e.request=r,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}(new Error(e),t,n,r,s)},F=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],j=a.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=a.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},G=a.isStandardBrowserEnv()?{write:function(e,t,n,r,s,o){var i=[];i.push(e+"="+encodeURIComponent(t)),a.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),a.isString(r)&&i.push("path="+r),a.isString(s)&&i.push("domain="+s),!0===o&&i.push("secure"),document.cookie=i.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},q=function(e){return new Promise((function(t,n){var r=e.data,s=e.headers;a.isFormData(r)&&delete s["Content-Type"];var o=new XMLHttpRequest;if(e.auth){var i=e.auth.username||"",c=e.auth.password||"";s.Authorization="Basic "+btoa(i+":"+c)}var u,l,h=(u=e.baseURL,l=e.url,u&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(l)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(u,l):l);if(o.open(e.method.toUpperCase(),d(h,e.params,e.paramsSerializer),!0),o.timeout=e.timeout,o.onreadystatechange=function(){if(o&&4===o.readyState&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in o?function(e){var t,n,r,s={};return e?(a.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=a.trim(e.substr(0,r)).toLowerCase(),n=a.trim(e.substr(r+1)),t){if(s[t]&&F.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}(o.getAllResponseHeaders()):null,s={data:e.responseType&&"text"!==e.responseType?o.response:o.responseText,status:o.status,statusText:o.statusText,headers:r,config:e,request:o};!function(e,t,n){var r=n.config.validateStatus;!r||r(n.status)?e(n):t(K("Request failed with status code "+n.status,n.config,null,n.request,n))}(t,n,s),o=null}},o.onabort=function(){o&&(n(K("Request aborted",e,"ECONNABORTED",o)),o=null)},o.onerror=function(){n(K("Network Error",e,null,o)),o=null},o.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(K(t,e,"ECONNABORTED",o)),o=null},a.isStandardBrowserEnv()){var p=G,f=(e.withCredentials||j(h))&&e.xsrfCookieName?p.read(e.xsrfCookieName):void 0;f&&(s[e.xsrfHeaderName]=f)}if("setRequestHeader"in o&&a.forEach(s,(function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete s[t]:o.setRequestHeader(t,e)})),a.isUndefined(e.withCredentials)||(o.withCredentials=!!e.withCredentials),e.responseType)try{o.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&o.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&o.upload&&o.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){o&&(o.abort(),n(e),o=null)})),void 0===r&&(r=null),o.send(r)}))},$={"Content-Type":"application/x-www-form-urlencoded"};function W(e,t){!a.isUndefined(e)&&a.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var z,V={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==U&&"[object process]"===Object.prototype.toString.call(U))&&(z=q),z),transformRequest:[function(e,t){return x(t,"Accept"),x(t,"Content-Type"),a.isFormData(e)||a.isArrayBuffer(e)||a.isBuffer(e)||a.isStream(e)||a.isFile(e)||a.isBlob(e)?e:a.isArrayBufferView(e)?e.buffer:a.isURLSearchParams(e)?(W(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):a.isObject(e)?(W(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};V.headers={common:{Accept:"application/json, text/plain, */*"}},a.forEach(["delete","get","head"],(function(e){V.headers[e]={}})),a.forEach(["post","put","patch"],(function(e){V.headers[e]=a.merge($)}));var J=V;function X(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var Y=function(e){return X(e),e.headers=e.headers||{},e.data=h(e.data,e.headers,e.transformRequest),e.headers=a.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),a.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||J.adapter)(e).then((function(t){return X(e),t.data=h(t.data,t.headers,e.transformResponse),t}),(function(t){return p(t)||(X(e),t&&t.response&&(t.response.data=h(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},Z=function(e,t){t=t||{};var n={},r=["url","method","params","data"],s=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];a.forEach(r,(function(e){void 0!==t[e]&&(n[e]=t[e])})),a.forEach(s,(function(r){a.isObject(t[r])?n[r]=a.deepMerge(e[r],t[r]):void 0!==t[r]?n[r]=t[r]:a.isObject(e[r])?n[r]=a.deepMerge(e[r]):void 0!==e[r]&&(n[r]=e[r])})),a.forEach(o,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])}));var i=r.concat(s).concat(o),c=Object.keys(t).filter((function(e){return-1===i.indexOf(e)}));return a.forEach(c,(function(r){void 0!==t[r]?n[r]=t[r]:void 0!==e[r]&&(n[r]=e[r])})),n};function Q(e){this.defaults=e,this.interceptors={request:new l,response:new l}}Q.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=Z(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[Y,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},Q.prototype.getUri=function(e){return e=Z(this.defaults,e),d(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},a.forEach(["delete","get","head","options"],(function(e){Q.prototype[e]=function(t,n){return this.request(a.merge(n||{},{method:e,url:t}))}})),a.forEach(["post","put","patch"],(function(e){Q.prototype[e]=function(t,n,r){return this.request(a.merge(r||{},{method:e,url:t,data:n}))}}));var ee=Q;function te(e){this.message=e}te.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},te.prototype.__CANCEL__=!0;var ne=te;function re(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new ne(e),t(n.reason))}))}re.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},re.source=function(){var e;return{token:new re((function(t){e=t})),cancel:e}};var se=re;function oe(t){var n=new ee(t),r=e(ee.prototype.request,n);return a.extend(r,ee.prototype,n),a.extend(r,n),r}var ie=oe(J);ie.Axios=ee,ie.create=function(e){return oe(Z(ie.defaults,e))},ie.Cancel=ne,ie.CancelToken=se,ie.isCancel=p,ie.all=function(e){return Promise.all(e)},ie.spread=function(e){return function(t){return e.apply(null,t)}};var ae=ie,ce=ie;ae.default=ce;var de=ae,ue="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var le=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){e.exports.DEFAULT_WEBSOCKET_URL="wss://ws.web3api.io",e.exports.DEFAULT_BASE_URL="https://web3api.io/api/v2",e.exports.DEFAULT_RPC_URL="https://rpc.web3api.io",e.exports.API_KEY_HEADER="x-api-key",e.exports.BLOCKCHAIN_ID_HEADER="x-amberdata-blockchain-id",e.exports.BLOCKCHAIN_ID_ETHEREUM_MAINNET="1c9c969065fcd1cf",e.exports.BLOCKCHAIN_ID_ETHEREUM_RINKEBY="1b3f7a72b3e99c13",e.exports.BLOCKCHAIN_ID_BITCOIN="408fa195a34b533de9ad9889f076045e",e.exports.BLOCKCHAIN_ID_BITCOIN_CASH="43b45e71cc0615b491cb699e7071fc06",e.exports.BLOCKCHAIN_ID_BITCOIN_SV="a818635d36dbe125e26167c4438e2217",e.exports.BLOCKCHAIN_ID_LITECOIN="f94be61fd9f4fa684f992ddfd4e92272",e.exports.BLOCKCHAIN_ID_RIPPLE="2b8a5d8975e8c2a2ed92450450979a3c",e.exports.BLOCKCHAIN_ID_ZCASH="b7d4f994f33c709be4ce6cbae31d7b8e",e.exports.BLOCKCHAIN_ID_STELLAR="822e2ebe02f74df8",e.exports.ADDRESSES_ENDPOINT="/addresses",e.exports.TOKENS_ENDPOINT="/tokens",e.exports.TRANSACTIONS_ENDPOINT="/transactions",e.exports.BLOCKS_ENDPOINT="/blocks",e.exports.BLOCKCHAINS_ENDPOINT="/blockchains",e.exports.CONTRACTS_ENDPOINT="/contracts",e.exports.SIGNATURES_ENDPOINT="/signatures",e.exports.MARKET_ENDPOINT="/market",e.exports.MARKET_FEATURES=["pairs","exchanges","ohlcv","prices","tickers","trades"],e.exports.ERROR_MESSAGE_TOKEN_NO_ADDRESS="No token address supplied",e.exports.ERROR_MESSAGE_TOKEN_NO_HOLDER_ADDRESS="No token holder address supplied",e.exports.ERROR_MESSAGE_TRANSACTION_NO_HASH="No transaction hash supplied",e.exports.ERROR_MESSAGE_ADDRESS_NO_ADDRESS="No address supplied",e.exports.ERROR_MESSAGE_CONTRACT_NO_ADDRESS="No contract address supplied",e.exports.ERROR_MESSAGE_BLOCK_NO_ID="No block number or hash supplied",e.exports.ERROR_MESSAGE_MARKET_NO_PAIR="No market pair supplied",e.exports.ERROR_MESSAGE_MARKET_NO_BASE="No market base supplied",e.exports.ERROR_MESSAGE_MARKET_NO_FEATURE=`Missing or unknown. Features: '${e.exports.MARKET_FEATURES.join("', '")}'`,e.exports.ERROR_MESSAGE_SIGNATURE_NO_HASH="No signature hash supplied",e.exports.ERROR_RPC_NO_METHOD="No RPC method provided",e.exports.ETH_METHODS={getBlockNumber:"block",getBlock:"block",getBlockTransactionCount:"block",getUncle:"block",getCode:"contract",getGasPrice:"transaction",getTransactionFromBlock:"block",getTransactions:"block",getTransaction:"transaction",getPendingTransactions:"transaction",getEtherPrice:"market",getBalance:"address",getMetrics:"block"},e.exports.BTC_METHODS={address:["getAllAddresses","getInformation","getMetadata","getTransactions","getPendingTransactions","getBalance","getMetrics"],block:["getBlocks","getBlock","getBlockNumber","getTransactions","getTransactionFromBlock","getMetrics"],blockchain:["getMetrics"],transaction:["getTransactions","getTransaction","getPendingTransactions","getMetrics"]},e.exports.LTC_METHODS={address:["getAllAddresses","getInformation","getMetadata","getTransactions","getPendingTransactions","getBalance","getMetrics"],block:["getBlocks","getBlock","getBlockNumber","getTransactions","getTransactionFromBlock","getMetrics"],blockchain:["getMetrics"],transaction:["getTransactions","getTransaction","getPendingTransactions","getMetrics"]},e.exports.XLM_METHODS={address:["getAllAddresses","getInformation","getMetadata","getTransactions","getBalance","getMetrics"],block:["getBlocks","getBlock","getBlockNumber","getTransactions","getTransactionFromBlock","getMetrics"],blockchain:["getMetrics"],transaction:["getTransactions","getTransaction","getMetrics"]},e.exports.HTTP_CODE_NOT_FOUND=404})),he=(le.DEFAULT_WEBSOCKET_URL,le.DEFAULT_BASE_URL,le.DEFAULT_RPC_URL,le.API_KEY_HEADER,le.BLOCKCHAIN_ID_HEADER,le.BLOCKCHAIN_ID_ETHEREUM_MAINNET,le.BLOCKCHAIN_ID_ETHEREUM_RINKEBY,le.BLOCKCHAIN_ID_BITCOIN,le.BLOCKCHAIN_ID_BITCOIN_CASH,le.BLOCKCHAIN_ID_BITCOIN_SV,le.BLOCKCHAIN_ID_LITECOIN,le.BLOCKCHAIN_ID_RIPPLE,le.BLOCKCHAIN_ID_ZCASH,le.BLOCKCHAIN_ID_STELLAR,le.ADDRESSES_ENDPOINT,le.TOKENS_ENDPOINT,le.TRANSACTIONS_ENDPOINT,le.BLOCKS_ENDPOINT,le.BLOCKCHAINS_ENDPOINT,le.CONTRACTS_ENDPOINT,le.SIGNATURES_ENDPOINT,le.MARKET_ENDPOINT,le.MARKET_FEATURES,le.ERROR_MESSAGE_TOKEN_NO_ADDRESS,le.ERROR_MESSAGE_TOKEN_NO_HOLDER_ADDRESS,le.ERROR_MESSAGE_TRANSACTION_NO_HASH,le.ERROR_MESSAGE_ADDRESS_NO_ADDRESS,le.ERROR_MESSAGE_CONTRACT_NO_ADDRESS,le.ERROR_MESSAGE_BLOCK_NO_ID,le.ERROR_MESSAGE_MARKET_NO_PAIR,le.ERROR_MESSAGE_MARKET_NO_BASE,le.ERROR_MESSAGE_MARKET_NO_FEATURE,le.ERROR_MESSAGE_SIGNATURE_NO_HASH,le.ERROR_RPC_NO_METHOD,le.ETH_METHODS,le.BTC_METHODS,le.LTC_METHODS,le.XLM_METHODS,le.HTTP_CODE_NOT_FOUND,"undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)),pe=new Uint8Array(16);function fe(){if(!he)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return he(pe)}var be=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ge(e){return"string"==typeof e&&be.test(e)}for(var me,Ee,_e=[],Oe=0;Oe<256;++Oe)_e.push((Oe+256).toString(16).substr(1));function we(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(_e[e[t+0]]+_e[e[t+1]]+_e[e[t+2]]+_e[e[t+3]]+"-"+_e[e[t+4]]+_e[e[t+5]]+"-"+_e[e[t+6]]+_e[e[t+7]]+"-"+_e[e[t+8]]+_e[e[t+9]]+"-"+_e[e[t+10]]+_e[e[t+11]]+_e[e[t+12]]+_e[e[t+13]]+_e[e[t+14]]+_e[e[t+15]]).toLowerCase();if(!ge(n))throw TypeError("Stringified UUID is invalid");return n}var Te=0,Ne=0;function Se(e){if(!ge(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}function Re(e,t,n){function r(e,r,s,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=Se(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var i=new Uint8Array(16+e.length);if(i.set(r),i.set(e,r.length),(i=n(i))[6]=15&i[6]|t,i[8]=63&i[8]|128,s){o=o||0;for(var a=0;a<16;++a)s[o+a]=i[a];return s}return we(i)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function Ae(e){return 14+(e+64>>>9<<4)+1}function ye(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function ve(e,t,n,r,s,o){return ye((i=ye(ye(t,e),ye(r,o)))<<(a=s)|i>>>32-a,n);var i,a}function Ie(e,t,n,r,s,o,i){return ve(t&n|~t&r,e,t,s,o,i)}function ke(e,t,n,r,s,o,i){return ve(t&r|n&~r,e,t,s,o,i)}function Ce(e,t,n,r,s,o,i){return ve(t^n^r,e,t,s,o,i)}function De(e,t,n,r,s,o,i){return ve(n^(t|~r),e,t,s,o,i)}var He=Re("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r=0;r<n;r+=8){var s=e[r>>5]>>>r%32&255,o=parseInt("0123456789abcdef".charAt(s>>>4&15)+"0123456789abcdef".charAt(15&s),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[Ae(t)-1]=t;for(var n=1732584193,r=-271733879,s=-1732584194,o=271733878,i=0;i<e.length;i+=16){var a=n,c=r,d=s,u=o;n=Ie(n,r,s,o,e[i],7,-680876936),o=Ie(o,n,r,s,e[i+1],12,-389564586),s=Ie(s,o,n,r,e[i+2],17,606105819),r=Ie(r,s,o,n,e[i+3],22,-1044525330),n=Ie(n,r,s,o,e[i+4],7,-176418897),o=Ie(o,n,r,s,e[i+5],12,1200080426),s=Ie(s,o,n,r,e[i+6],17,-1473231341),r=Ie(r,s,o,n,e[i+7],22,-45705983),n=Ie(n,r,s,o,e[i+8],7,1770035416),o=Ie(o,n,r,s,e[i+9],12,-1958414417),s=Ie(s,o,n,r,e[i+10],17,-42063),r=Ie(r,s,o,n,e[i+11],22,-1990404162),n=Ie(n,r,s,o,e[i+12],7,1804603682),o=Ie(o,n,r,s,e[i+13],12,-40341101),s=Ie(s,o,n,r,e[i+14],17,-1502002290),r=Ie(r,s,o,n,e[i+15],22,1236535329),n=ke(n,r,s,o,e[i+1],5,-165796510),o=ke(o,n,r,s,e[i+6],9,-1069501632),s=ke(s,o,n,r,e[i+11],14,643717713),r=ke(r,s,o,n,e[i],20,-373897302),n=ke(n,r,s,o,e[i+5],5,-701558691),o=ke(o,n,r,s,e[i+10],9,38016083),s=ke(s,o,n,r,e[i+15],14,-660478335),r=ke(r,s,o,n,e[i+4],20,-405537848),n=ke(n,r,s,o,e[i+9],5,568446438),o=ke(o,n,r,s,e[i+14],9,-1019803690),s=ke(s,o,n,r,e[i+3],14,-187363961),r=ke(r,s,o,n,e[i+8],20,1163531501),n=ke(n,r,s,o,e[i+13],5,-1444681467),o=ke(o,n,r,s,e[i+2],9,-51403784),s=ke(s,o,n,r,e[i+7],14,1735328473),r=ke(r,s,o,n,e[i+12],20,-1926607734),n=Ce(n,r,s,o,e[i+5],4,-378558),o=Ce(o,n,r,s,e[i+8],11,-2022574463),s=Ce(s,o,n,r,e[i+11],16,1839030562),r=Ce(r,s,o,n,e[i+14],23,-35309556),n=Ce(n,r,s,o,e[i+1],4,-1530992060),o=Ce(o,n,r,s,e[i+4],11,1272893353),s=Ce(s,o,n,r,e[i+7],16,-155497632),r=Ce(r,s,o,n,e[i+10],23,-1094730640),n=Ce(n,r,s,o,e[i+13],4,681279174),o=Ce(o,n,r,s,e[i],11,-358537222),s=Ce(s,o,n,r,e[i+3],16,-722521979),r=Ce(r,s,o,n,e[i+6],23,76029189),n=Ce(n,r,s,o,e[i+9],4,-640364487),o=Ce(o,n,r,s,e[i+12],11,-421815835),s=Ce(s,o,n,r,e[i+15],16,530742520),r=Ce(r,s,o,n,e[i+2],23,-995338651),n=De(n,r,s,o,e[i],6,-198630844),o=De(o,n,r,s,e[i+7],10,1126891415),s=De(s,o,n,r,e[i+14],15,-1416354905),r=De(r,s,o,n,e[i+5],21,-57434055),n=De(n,r,s,o,e[i+12],6,1700485571),o=De(o,n,r,s,e[i+3],10,-1894986606),s=De(s,o,n,r,e[i+10],15,-1051523),r=De(r,s,o,n,e[i+1],21,-2054922799),n=De(n,r,s,o,e[i+8],6,1873313359),o=De(o,n,r,s,e[i+15],10,-30611744),s=De(s,o,n,r,e[i+6],15,-1560198380),r=De(r,s,o,n,e[i+13],21,1309151649),n=De(n,r,s,o,e[i+4],6,-145523070),o=De(o,n,r,s,e[i+11],10,-1120210379),s=De(s,o,n,r,e[i+2],15,718787259),r=De(r,s,o,n,e[i+9],21,-343485551),n=ye(n,a),r=ye(r,c),s=ye(s,d),o=ye(o,u)}return[n,r,s,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(Ae(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))}));function Be(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function Me(e,t){return e<<t|e>>>32-t}var Pe=Re("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var s=0;s<r.length;++s)e.push(r.charCodeAt(s))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,i=Math.ceil(o/16),a=new Array(i),c=0;c<i;++c){for(var d=new Uint32Array(16),u=0;u<16;++u)d[u]=e[64*c+4*u]<<24|e[64*c+4*u+1]<<16|e[64*c+4*u+2]<<8|e[64*c+4*u+3];a[c]=d}a[i-1][14]=8*(e.length-1)/Math.pow(2,32),a[i-1][14]=Math.floor(a[i-1][14]),a[i-1][15]=8*(e.length-1)&4294967295;for(var l=0;l<i;++l){for(var h=new Uint32Array(80),p=0;p<16;++p)h[p]=a[l][p];for(var f=16;f<80;++f)h[f]=Me(h[f-3]^h[f-8]^h[f-14]^h[f-16],1);for(var b=n[0],g=n[1],m=n[2],E=n[3],_=n[4],O=0;O<80;++O){var w=Math.floor(O/20),T=Me(b,5)+Be(w,g,m,E)+_+t[w]+h[O]>>>0;_=E,E=m,m=Me(g,30)>>>0,g=b,b=T}n[0]=n[0]+b>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+m>>>0,n[3]=n[3]+E>>>0,n[4]=n[4]+_>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}));var Le=Object.freeze({__proto__:null,v1:function(e,t,n){var r=t&&n||0,s=t||new Array(16),o=(e=e||{}).node||me,i=void 0!==e.clockseq?e.clockseq:Ee;if(null==o||null==i){var a=e.random||(e.rng||fe)();null==o&&(o=me=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==i&&(i=Ee=16383&(a[6]<<8|a[7]))}var c=void 0!==e.msecs?e.msecs:Date.now(),d=void 0!==e.nsecs?e.nsecs:Ne+1,u=c-Te+(d-Ne)/1e4;if(u<0&&void 0===e.clockseq&&(i=i+1&16383),(u<0||c>Te)&&void 0===e.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Te=c,Ne=d,Ee=i;var l=(1e4*(268435455&(c+=122192928e5))+d)%4294967296;s[r++]=l>>>24&255,s[r++]=l>>>16&255,s[r++]=l>>>8&255,s[r++]=255&l;var h=c/4294967296*1e4&268435455;s[r++]=h>>>8&255,s[r++]=255&h,s[r++]=h>>>24&15|16,s[r++]=h>>>16&255,s[r++]=i>>>8|128,s[r++]=255&i;for(var p=0;p<6;++p)s[r+p]=o[p];return t||we(s)},v3:He,v4:function(e,t,n){var r=(e=e||{}).random||(e.rng||fe)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=r[s];return t}return we(r)},v5:Pe,NIL:"00000000-0000-0000-0000-000000000000",version:function(e){if(!ge(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)},validate:ge,stringify:we,parse:Se});const{ETH_METHODS:Ue}=le,xe=e=>{let t="";for(const n in e)({}).hasOwnProperty.call(e,n)&&(t+=`${n}=${e[n]}&`);return t},Ke=(e,t)=>{if(e)throw new Error(t)},Fe=e=>Ke(!0,e),je=()=>{};je.string=e=>"string"==typeof e,je.bool=e=>"boolean"==typeof e,je.emptyString=e=>je.string(e)&&0===e.length,je.emptyObject=e=>0===Object.keys(e).length,je.inObject=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),je.undefined=e=>void 0===e,je.null=e=>null===e,je.notHash=e=>je.undefined(e)||je.emptyString(e),je.notUndefined=e=>!je.undefined(e),je.nonEmptyObject=e=>!je.emptyObject(e),je.nonEmptyString=e=>!je.emptyString(e),je.notInObject=(e,t)=>!je.inObject(e,t);const Ge=e=>Object.getOwnPropertyNames(e).filter(t=>"function"==typeof e[t]&&"constructor"!==t);var qe={buildFilterUrl:xe,is:je,throwIf:Ke,get:(e,{endpoint:t="",subendpoint:n="",hash:r="",pathParam:s="",filterOptions:o={}})=>{const i=je.nonEmptyObject(o)?"?"+xe(o):"";return r=r?"/"+r:"",s=s?"/"+s:"",n=n?"/"+n:"",e.rawQuery(`${t}${r||s}${n}${i}`)},rejectPromiseIf:(e,t)=>{if(e)return Promise.reject(new Error(t))},uuid:e=>Le.v5(JSON.stringify(e),"ccfeca02-f0e9-4433-a740-b830cceb3d2d"),ethFactory:function(e){const t={};for(const n in Ue)({}).hasOwnProperty.call(Ue,n)&&(t[n]=e[Ue[n]][n].bind(e[Ue[n]]));return t},methodFactory:(e,t)=>(Object.keys(t).forEach(n=>{Ge(Object.getPrototypeOf(e.web3data[n])).forEach(r=>{t[n].includes(r)&&(e[n]=e[n]?e[n]:{},e[n][r]=e.web3data[n][r].bind(e))})}),e),throwNow:Fe,onFulfilled:function(e){return Ke(e.error,e.message),this&&this.formatter?this.formatter(e.payload):e.payload},onError:({response:{data:e}})=>Fe(e.message||e.description),formatJsonRpc:e=>e?(e.params&&(e.params=Array.isArray(e.params)?e.params:[e.params]),JSON.stringify({jsonrpc:e.version||"2.0",method:e.method||"subscribe",id:e.id||0,params:e.params||[]})):"",getMethods:Ge,recordsFormatter:e=>((e,t)=>e&&e[t]?e[t]:e)(e,"records")};const{ERROR_MESSAGE_ADDRESS_NO_ADDRESS:$e,ADDRESSES_ENDPOINT:We}=le,{is:ze,get:Ve,throwIf:Je,onFulfilled:Xe,onError:Ye,recordsFormatter:Ze}=qe;var Qe=class{constructor(e){this.web3data=e}getAllAddresses(e={}){return this.getAll(e)}getAll(e={}){return Ve(this.web3data,{endpoint:We,filterOptions:e}).then(Xe.bind({formatter:Ze}),Ye)}getInformation(e,t={}){return Je(ze.notHash(e),$e),Ve(this.web3data,{hash:e,endpoint:We,subendpoint:"information",filterOptions:t}).then(Xe,Ye)}getMetadata(e,t={}){return Je(ze.notHash(e),$e),Ve(this.web3data,{hash:e,endpoint:We,subendpoint:"metadata",filterOptions:t}).then(Xe,Ye)}getAdoption(e,t={}){return Je(ze.notHash(e),$e),Ve(this.web3data,{hash:e,endpoint:We,subendpoint:"adoption",filterOptions:t}).then(Xe,Ye)}getInternalMessages(e,t={}){return this.web3data.address.getFunctions(e,t)}getFunctions(e,t={}){return Je(ze.notHash(e),$e),Ve(this.web3data,{hash:e,endpoint:We,subendpoint:"functions",filterOptions:t}).then(Xe.bind({formatter:Ze}),Ye)}getLogs(e,t={}){return Je(ze.notHash(e),$e),Ve(this.web3data,{hash:e,endpoint:We,subendpoint:"logs",filterOptions:t}).then(Xe.bind({formatter:Ze}),Ye)}getTransactions(e,t={}){return Je(!e,$e),Ve(this.web3data,{hash:e,endpoint:We,subendpoint:"transactions",filterOptions:t}).then(Xe.bind({formatter:Ze}),Ye)}getPendingTransactions(e,t={}){return Je(!e,$e),Ve(this.web3data,{hash:e,endpoint:We,subendpoint:"pending-transactions",filterOptions:t}).then(Xe.bind({formatter:Ze}),Ye)}getBalance(e,t={}){Je(ze.notHash(e),$e);let n="information";return Array.isArray(e)?(n="balances",t.addresses=e):t.includeTokens?n="balances":(t.startDate||t.endDate)&&(n="account-balances/historical"),Ve(this.web3data,{...t.addresses?{}:{hash:e},endpoint:We,subendpoint:n,filterOptions:t}).then(Xe,Ye)}getTokens(e,t={}){return Je(ze.notHash(e),$e),Ve(this.web3data,{hash:e,endpoint:We,subendpoint:"tokens",filterOptions:t}).then(Xe.bind({formatter:Ze}),Ye)}getTokenTransfers(e,t={}){return Je(ze.notHash(e),$e),Ve(this.web3data,{hash:e,endpoint:We,subendpoint:"token-transfers",filterOptions:t}).then(Xe.bind({formatter:Ze}),Ye)}getTokenBalances(e,t={}){return Je(ze.notHash(e),$e),Ve(this.web3data,{hash:e,endpoint:We,subendpoint:"token-balances",filterOptions:t}).then(Xe.bind({formatter:Ze}),Ye)}getUsage(e,t={}){return Je(ze.notHash(e),$e),Ve(this.web3data,{hash:e,endpoint:We,subendpoint:"usage",filterOptions:t}).then(Xe,Ye)}getMetrics(){return Ve(this.web3data,{endpoint:We,subendpoint:"metrics/latest"}).then(Xe,Ye)}};const{is:et,get:tt,onFulfilled:nt,onError:rt,throwIf:st,recordsFormatter:ot}=qe,{ERROR_MESSAGE_TOKEN_NO_ADDRESS:it,ERROR_MESSAGE_TOKEN_NO_HOLDER_ADDRESS:at,TOKENS_ENDPOINT:ct}=le;var dt=class{constructor(e){this.web3data=e}getRankings(e={}){return tt(this.web3data,{endpoint:ct,subendpoint:"rankings",filterOptions:e}).then(nt,rt)}getVolume(e,t={}){return st(et.notHash(e),it),tt(this.web3data,{hash:e,endpoint:ct,subendpoint:"volume",filterOptions:t}).then(nt,rt)}getVelocity(e,t={}){return st(et.notHash(e),it),tt(this.web3data,{hash:e,endpoint:ct,subendpoint:"velocity",filterOptions:t}).then(nt,rt)}getHolders(e,t={}){st(et.notHash(e),it);let n="holders/latest",r={formatter:ot};return t.holderAddresses&&(n="holders/historical",r={}),tt(this.web3data,{hash:e,endpoint:ct,subendpoint:n,filterOptions:t}).then(nt.bind(r),rt)}getHoldersHistorical(e,t){return st(et.notInObject(t,"holderAddresses"),at),this.getHolders(e,t)}getSupplies(e,t={}){st(et.notHash(e),it);const n=t.startDate||t.endDate?"supplies/historical":"supplies/latest";return tt(this.web3data,{hash:e,endpoint:ct,subendpoint:n,filterOptions:t}).then(nt,rt)}getTransfers(e,t={}){return st(et.notHash(e),it),tt(this.web3data,{hash:e,endpoint:ct,subendpoint:"transfers",filterOptions:t}).then(nt.bind({formatter:ot}),rt)}};const{ERROR_MESSAGE_CONTRACT_NO_ADDRESS:ut,CONTRACTS_ENDPOINT:lt}=le,{is:ht,get:pt,throwIf:ft,onFulfilled:bt,onError:gt}=qe;var mt=class{constructor(e){this.web3data=e}getDetails(e){return ft(ht.notHash(e),ut),pt(this.web3data,{pathParam:e,endpoint:lt}).then(bt,gt)}getFunctions(e){return ht.notHash(e)?Promise.reject(new Error(ut)):pt(this.web3data,{pathParam:e,endpoint:lt,subendpoint:"functions"}).then(bt,gt)}getAbi(e){return ft(ht.notHash(e),ut),this.getDetails(e).then(({abi:e})=>e)}getSourceCode(e){return ft(ht.notHash(e),ut),pt(this.web3data,{pathParam:e,endpoint:lt,subendpoint:"source-code"}).then(bt,gt)}getCode(e){return this.getDetails(e).then(e=>e.bytecode||"0x")}};const{TRANSACTIONS_ENDPOINT:Et,ERROR_MESSAGE_TRANSACTION_NO_HASH:_t}=le,{is:Ot,get:wt,onFulfilled:Tt,onError:Nt,throwIf:St,recordsFormatter:Rt}=qe;var At=class{constructor(e){this.web3data=e}getTransactions(e={}){return wt(this.web3data,{endpoint:Et,filterOptions:e}).then(Tt.bind({formatter:Rt}),Nt)}getAll(e){return this.getTransactions(e)}getTransaction(e,t={}){return St(Ot.notHash(e),_t),wt(this.web3data,{pathParam:e,endpoint:Et,filterOptions:t}).then(Tt,Nt)}getPendingTransactions(){return this.getTransactions({status:"pending"}).then(e=>(St(Ot.undefined(e)||Ot.null(e),"Failed to retrieve pending transactions."),e),console.error)}getGasPrediction(){return wt(this.web3data,{endpoint:Et,subendpoint:"gas/predictions"}).then(Tt,Nt)}getGasPercentiles(e={}){return wt(this.web3data,{endpoint:Et,subendpoint:"gas/percentiles",filterOptions:e}).then(Tt,Nt)}getGasPrice(){return this.getGasPrediction().then(e=>(St(!e.average||!e.average.gasPrice,"Failed to retrieve gas price."),""+e.average.gasPrice))}getVolume(e={}){return wt(this.web3data,{endpoint:Et,subendpoint:"volume",filterOptions:e}).then(Tt,Nt)}getMetrics(e){const t=e&&(e.startDate||e.endDate)?"historical":"latest";return wt(this.web3data,{endpoint:Et+"/metrics",subendpoint:t,filterOptions:e}).then(Tt.bind({formatter:Rt}),Nt)}};const{BLOCKS_ENDPOINT:yt,ERROR_MESSAGE_BLOCK_NO_ID:vt}=le,{is:It,get:kt,throwIf:Ct,onFulfilled:Dt,onError:Ht,recordsFormatter:Bt}=qe;var Mt=class{constructor(e){this.web3data=e}getBlocks(e){return kt(this.web3data,{endpoint:yt,filterOptions:e}).then(Dt.bind({formatter:Bt}),Ht)}getBlock(e,t){return Ct(It.undefined(e),vt),kt(this.web3data,{pathParam:e,endpoint:yt,filterOptions:t}).then(Dt,Ht)}getBlockNumber(){return this.web3data.block.getBlock("latest").then(e=>(Ct(e|!e.number,"Failed to retrieve block number."),Number.parseInt(e.number,10)))}getBlockTransactionCount(e){return this.web3data.block.getBlock(e).then(e=>(Ct(!e||!e.predictions&&!e.numTransactions,"Failed to retrieve block transaction count."),e.predictions?null:Number.parseInt(e.numTransactions,10)))}getTransactions(e,t){return Ct(It.undefined(e),vt),kt(this.web3data,{pathParam:e,endpoint:yt,subendpoint:"transactions",filterOptions:t}).then(Dt.bind({formatter:Bt}),Ht)}getTransactionFromBlock(e,t){return Ct(It.undefined(e),vt),this.web3data.block.getTransactions(e).then(e=>(Ct(!e,"Failed to retrieve transaction."),t<e.length&&t>-1?e[t]:null))}getUncle(e,t){return Ct(It.undefined(e),vt),Ct(It.undefined(t),"Missing required param 'index'"),this.web3data.block.getBlock(e,{validationMethod:"full"}).then(e=>(Ct(!e||!e.predictions&&!e.numTransactions&&!e.validation,"Failed to retrieve uncle."),!e.predictions&&e.validation.uncles&&t<e.validation.uncles.length&&t>-1?e.validation.uncles[t]:null))}getTokenTransfers(e,t){return Ct(It.undefined(e),vt),kt(this.web3data,{pathParam:e,endpoint:yt,subendpoint:"token-transfers",filterOptions:t}).then(Dt,Ht)}getLogs(e,t){return Ct(It.undefined(e),vt),kt(this.web3data,{pathParam:e,endpoint:yt,subendpoint:"logs",filterOptions:t}).then(Dt.bind({formatter:Bt}),Ht)}getFunctions(e,t){return Ct(It.undefined(e),vt),kt(this.web3data,{pathParam:e,endpoint:yt,subendpoint:"functions",filterOptions:t}).then(Dt.bind({formatter:Bt}),Ht)}getMetrics(e){const t=e&&(e.startDate||e.endDate)?"historical":"latest";return kt(this.web3data,{endpoint:yt+"/metrics",subendpoint:t,filterOptions:e}).then(Dt.bind({formatter:Bt}),Ht)}};const{BLOCKCHAINS_ENDPOINT:Pt}=le,{get:Lt,onFulfilled:Ut,onError:xt}=qe;var Kt=class{constructor(e){this.web3data=e}getMetrics(e){const t=e&&(e.startDate||e.endDate)?"historical":"latest";return Lt(this.web3data,{endpoint:Pt+"/metrics",subendpoint:t,filterOptions:e}).then(Ut,xt)}};const{get:Ft,is:jt,throwIf:Gt,onError:qt,onFulfilled:$t}=qe,{SIGNATURES_ENDPOINT:Wt,ERROR_MESSAGE_SIGNATURE_NO_HASH:zt}=le;var Vt=class{constructor(e){this.web3data=e}getSignature(e){return Gt(jt.notHash(e),zt),Ft(this.web3data,{hash:e,endpoint:Wt}).then($t,qt)}};const{is:Jt,get:Xt,throwIf:Yt,onFulfilled:Zt,onError:Qt}=qe,{MARKET_FEATURES:en,MARKET_ENDPOINT:tn,ERROR_MESSAGE_MARKET_NO_PAIR:nn,ERROR_MESSAGE_MARKET_NO_FEATURE:rn}=le;var sn=class{constructor(e){this.web3data=e}getEtherPrice(){return Xt(this.web3data,{endpoint:tn+"/spot/prices/pairs/eth_usd/latest"}).then(e=>e.payload.price,Qt)}getRankings(e){return Xt(this.web3data,{endpoint:tn,subendpoint:"rankings",filterOptions:e}).then(Zt,Qt)}async getFeatures(e=en,t={}){e=(e=Array.isArray(e)?e:[e]).map(e=>{switch(Yt(Jt.undefined(e)||!en.includes(e),rn),e){case"prices":e+="/pairs";break;case"ohlcv":case"tickers":case"trades":e+="/information"}return Xt(this.web3data,{endpoint:tn,subendpoint:e,filterOptions:t}).then(Zt,Qt).then(t=>({[e.split("/")[0]]:t}))});let n={};return(await Promise.all([...e])).map(e=>(n={...n,...e},e)),n}getOhlcv(e,t={}){Yt(Jt.undefined(e),nn);const n=t.startDate||t.endDate?"historical":"latest";return Xt(this.web3data,{pathParam:e,endpoint:tn+"/ohlcv",subendpoint:n,filterOptions:t}).then(Zt,Qt)}getOrders(e,t,n={}){return Yt(Jt.undefined(e),nn),(t=Array.isArray(t)?t:[t]).forEach(e=>Yt(Jt.undefined(e),"No exchange specified")),n.exchange=t,Xt(this.web3data,{pathParam:e,endpoint:tn+"/orders",filterOptions:n}).then(Zt,Qt)}getOrderBooks(e,t={}){return Yt(Jt.undefined(e),nn),Xt(this.web3data,{pathParam:e,endpoint:tn+"/orders",subendpoint:"update",filterOptions:t}).then(Zt,Qt)}getBbos(e,t={}){Yt(Jt.undefined(e),nn);const n=t.startDate||t.endDate?"bbo/historical":"bbo";return Xt(this.web3data,{pathParam:e,endpoint:tn+"/orders",subendpoint:n,filterOptions:t}).then(Zt,Qt)}getPrices(e,t={}){Yt(Jt.undefined(e),nn);const n=t.startDate||t.endDate?"historical":"latest";return Xt(this.web3data,{pathParam:e,endpoint:tn+"/spot/prices/pairs",subendpoint:n,filterOptions:t}).then(Zt,Qt)}getTokenPrices(e,t={}){Yt(Jt.notHash(e),nn);const n=t.startDate||t.endDate?"historical":"latest";return Xt(this.web3data,{hash:e,endpoint:tn+"/tokens/prices",subendpoint:n,filterOptions:t}).then(Zt,Qt)}getVwap(e,t={}){return Yt(Jt.undefined(e),nn),Xt(this.web3data,{pathParam:e,endpoint:tn+"/prices",subendpoint:"wap/latest",filterOptions:t}).then(Zt,Qt)}getTickers(e,t={}){Yt(Jt.undefined(e),nn);const n=t.startDate||t.endDate?"historical":"latest";return Xt(this.web3data,{pathParam:e,endpoint:tn+"/tickers",subendpoint:n,filterOptions:t}).then(Zt,Qt)}getTrades(e,t={}){return Yt(Jt.undefined(e),nn),Xt(this.web3data,{pathParam:e,endpoint:tn+"/trades",subendpoint:"historical",filterOptions:t}).then(Zt,Qt)}getAssetAddresses(e="all"){return Xt(this.web3data,{endpoint:tn+"/pairs/addresses",filterOptions:{symbols:e}}).then(Zt,Qt)}};const{ethFactory:on}=qe,{BLOCKCHAIN_ID_ETHEREUM_MAINNET:an}=le;var cn=class{constructor(e,t,n){n.blockchainId=an,this.web3data=new e(t,n);const r=on(this.web3data);for(const e in r)({}).hasOwnProperty.call(r,e)&&(this[e]=r[e])}rpc(e,t){return this.web3data.rpc(e,t)}};const{BLOCKCHAIN_ID_BITCOIN:dn,BTC_METHODS:un}=le,{methodFactory:ln}=qe;var hn=class{constructor(e,t,n){n.blockchainId=dn,this.web3data=new e(t,n),ln(this,un)}rpc(e,t){return this.web3data.rpc(e,t)}};const{BLOCKCHAIN_ID_BITCOIN_CASH:pn,BTC_METHODS:fn}=le,{methodFactory:bn}=qe;var gn=class{constructor(e,t,n){n.blockchainId=pn,this.web3data=new e(t,n),bn(this,fn)}rpc(e,t){return this.web3data.rpc(e,t)}};const{BLOCKCHAIN_ID_BITCOIN_SV:mn,BTC_METHODS:En}=le,{methodFactory:_n}=qe;var On=class{constructor(e,t,n){n.blockchainId=mn,this.web3data=new e(t,n),_n(this,En)}rpc(e,t){return this.web3data.rpc(e,t)}};const{BLOCKCHAIN_ID_LITECOIN:wn,LTC_METHODS:Tn}=le,{methodFactory:Nn}=qe;var Sn=class{constructor(e,t,n){n.blockchainId=wn,this.web3data=new e(t,n),Nn(this,Tn)}rpc(e,t){return this.web3data.rpc(e,t)}};const{BLOCKCHAIN_ID_STELLAR:Rn,BTC_METHODS:An}=le,{methodFactory:yn}=qe;var vn=class{constructor(e,t,n){n.blockchainId=Rn,this.web3data=new e(t,n),yn(this,An)}rpc(e,t){return this.web3data.rpc(e,t)}};const{BLOCKCHAIN_ID_ZCASH:In,BTC_METHODS:kn}=le,{methodFactory:Cn}=qe;var Dn=class{constructor(e,t,n){n.blockchainId=In,this.web3data=new e(t,n),Cn(this,kn)}rpc(e,t){return this.web3data.rpc(e,t)}},Hn=null;"undefined"!=typeof WebSocket?Hn=WebSocket:"undefined"!=typeof MozWebSocket?Hn=MozWebSocket:void 0!==ue?Hn=ue.WebSocket||ue.MozWebSocket:"undefined"!=typeof window?Hn=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(Hn=self.WebSocket||self.MozWebSocket);var Bn=Hn;const{DEFAULT_WEBSOCKET_URL:Mn}=le,{is:Pn,uuid:Ln}=qe,Un=e=>e?(e.params&&(e.params=Array.isArray(e.params)?e.params:[e.params]),JSON.stringify({jsonrpc:e.version||"2.0",method:e.method||"subscribe",id:e.id||0,params:e.params||[]})):"",xn=0,Kn=1,Fn=2;var jn=class{constructor(e,t){this.socket=null,this.baseWsUrl=t&&t.websocketUrl?t.websocketUrl:Mn,this.apiKey=e,this.blockchainId=null,this.connected=!1,this.reconnects=0,this.responseReceived=!1,this.dataReceived=!1,t.blockchainId&&(this.blockchainId=t.blockchainId),this.registry={},this.registrySubIds={},this.latestState={}}connect(e){if(this.socket&&1===this.socket.readyState)return;const t=this.apiKey?"?x-api-key="+this.apiKey:"",n=this.blockchainId?"&x-amberdata-blockchain-id="+this.blockchainId:"";this.socket=new Bn(`${this.baseWsUrl}${t}${n}`),this.socket.addEventListener("open",t=>{console.info("websocket client connection opened"),this.connected=!0,this._refreshSubscriptions(),this._listen(),e&&e(t),setTimeout(()=>{!this.responseReceived&&Pn.nonEmptyObject(this.registry)&&this.socket&&this.socket.close()},5e3),setTimeout(()=>{!this.dataReceived&&Pn.nonEmptyObject(this.registry)&&this.socket.close()},18e5)}),this.socket.addEventListener("error",t=>{e&&t?e("connection error occurred",t):console.error("connection error occurred"),this._reconnect()}),this.socket.addEventListener("close",e=>{console.info("Websocket client connection closed - code",e.code),this._reconnect()})}disconnect(e=null){this.socket&&1===this.socket.readyState?(this.socket.onclose=e?()=>e("Websocket client connection closed"):()=>console.info("Websocket client connection closed"),this.socket.close(),this.socket=null):console.error("socket is not yet connected")}on({eventName:e,filters:t},n){if(n||console.warn("no callback provided"),!e)return void console.error("no event specified");const r=Ln({eventName:e,filters:t});this.connected&&this._subscribe(e,t),this.registry[r]={},this.registry[r].callback=n,this.registry[r].args={eventName:e,filters:t}}once({eventName:e,filters:t},n){this.on({eventName:e,filters:t},r=>{this.off({eventName:e,filters:t},()=>{}),n&&n(r),this.registry[Ln({eventName:e,filters:t})].callback=null})}off({eventName:e,filters:t},n){if(n||console.warn("no callback provided"),!e)return void console.error("no event specified");const r=Ln({eventName:e,filters:t});this.registry[r]&&this.registry[r].subId?(this.registry[r].isSubscribed=!1,this.registry[r].unsubCallback=n||(()=>{}),this._unsubscribe(e,t,r)):console.error(`Not subscribed to: '${e}'`)}_reconnect(){1===this.socket.readyState&&this.disconnect(),++this.reconnects<=3&&(console.warn(`attempting to reconnect...${this.reconnects}/3`),this.connect())}_refreshSubscriptions(){if(this.registry)for(const{args:{eventName:e,filters:t}}of Object.values(this.registry))this._subscribe(e,t)}_listen(){this.socket.addEventListener("message",e=>{let t;try{t=JSON.parse(e.data)}catch(e){return void console.error("error parsing json request -",e)}switch(this.responseReceived=!0,(e=>e.params?Kn:Pn.string(e.result)?xn:Pn.bool(e.result)?Fn:void 0)(t)){case xn:this._subHandler(t);break;case Kn:this._dataHandler(t);break;case Fn:this._unsubHandler(t)}})}_subHandler(e){const t=e&&e.id?e.id:"";this.registrySubIds[e.result]=t,this.registry[t].subId=e.result,this.registry[t].isSubscribed=!0}_dataHandler(e){this.dataReceived=!0;const t=e&&e.params&&e.params.result?e.params.result:{},n=e&&e.params&&e.params.subscription?e.params.subscription:"",r=this.registrySubIds[n];this.registry[r].isSubscribed&&(this.registry[r]&&this.registry[r].callback&&this.registry[r].callback(t),Pn.notUndefined(this.latestState[r])&&(this.latestState[r]=t))}_unsubHandler(e){const t=e&&e.id?e.id:"",{eventName:n}=this.registry[t].args;e.result?(this.registry[t].unsubCallback("successfully unsubscribed from - "+n),delete this.registry[t]):this.registry[t].unsubCallback("Error: Not unsubscribed from - "+n)}_subscribe(e,t){const n=Pn.notUndefined(t)?[t]:[],r=Ln({eventName:e,filters:t}),s=Un({id:r,params:[e,...n]});this.socket.send(s)}_unsubscribe(e,t,n){const r=Un({id:n,method:"unsubscribe",params:[this.registry[n].subId]});this.socket.readyState===this.socket.OPEN&&this.socket.send(r)}};const{API_KEY_HEADER:Gn,BLOCKCHAIN_ID_HEADER:qn,DEFAULT_BASE_URL:$n,DEFAULT_RPC_URL:Wn,ERROR_RPC_NO_METHOD:zn}=le,{is:Vn,throwIf:Jn,formatJsonRpc:Xn}=qe;class Yn{constructor(e,t={}){Jn(Vn.undefined(e)||Vn.emptyString(e),"No api key supplied"),this.apiKey=e,this.blockchainId=null,this.headers={},this.headers[Gn]=this.apiKey,t.blockchainId&&(this.blockchainId=t.blockchainId,this.headers[qn]=t.blockchainId),this.wsConfig={...t,websocketUrl:t.websocketUrl?t.websocketUrl:null},this.baseUrl=t.baseUrl?t.baseUrl:$n,this.address=new Qe(this),this.token=new dt(this),this.contract=new mt(this),this.transaction=new At(this),this.block=new Mt(this),this.blockchain=new Kt(this),this.signature=new Vt(this),this.market=new sn(this)}rawQuery(e){return de.get(this.baseUrl+e,{headers:this.headers}).then(e=>e.data)}rpc(e,t=[]){return Jn(!e,zn),de.post(`${Wn}?${Gn}=${this.apiKey}&${qn}=${this.blockchainId}`,Xn({method:e,params:t}),{headers:this.headers}).then(e=>e.data,e=>e.response.data)}}var Zn=class extends Yn{constructor(e,t={}){super(e,t),this.eth=new cn(Yn,e,t),this.btc=new hn(Yn,e,t),this.bch=new gn(Yn,e,t),this.bsv=new On(Yn,e,t),this.ltc=new Sn(Yn,e,t),this.xlm=new vn(Yn,e,t),this.zec=new Dn(Yn,e,t),this.websocket=null}connect(e){return this.websocket=this.websocket?this.websocket:new jn(this.apiKey,this.wsConfig),this.websocket.connect(e)}disconnect(e){this.websocket?this.websocket.disconnect(e):console.error("socket is not yet connected")}on({eventName:e,filters:t},n){n||console.warn("no callback provided"),e?this.websocket.on({eventName:e,filters:t},n):console.error("no event specified")}once({eventName:e,filters:t},n){this.websocket.once({eventName:e,filters:t},n)}off({eventName:e,filters:t},n){n||console.warn("no callback provided"),e?this.websocket.off({eventName:e,filters:t},n):console.error("no event specified")}};return"undefined"!=typeof window&&void 0===window.Web3Data&&(window.Web3Data=Zn),Zn}));